<!-- popup.html -->
<div id="announcementModal" class="modal">
  <div class="modal-content">
    <h2 class="modal-title">Â¡Anuncios Importantes!</h2>

    <!-- Contenedor del carrusel Swiper -->
    <div class="swiper announcement-swiper">
      <div class="swiper-wrapper">
        
        <!-- Tarjeta 1: Horarios de Streams -->
        <div class="swiper-slide announcement-card">
          <a href="https://www.youtube.com/@elbasureroedgar" target="_blank" class="image-link">
            <img src="Imagenes/the_best_crowd_ever.jpg" alt="PrÃ³ximo Stream en YouTube" class="announcement-img">
          </a>
        </div>
        
        <!-- Tarjeta 2: Ãšltimo Video (dinÃ¡mica, simplificada) -->
        <div class="swiper-slide announcement-card" id="latest-video-card">
          <a href="#" class="image-link" id="latest-video-link" target="_blank">
            <img src="" alt="Ãšltimo Video" class="announcement-img" id="latest-video-img">
          </a>
        </div>
        
        <!-- Tarjeta 3: ProgramaciÃ³n de la Semana -->
        <div class="swiper-slide announcement-card">
          <img src="Imagenes/horarios.jpg" alt="Horarios" class="announcement-img">
        </div>
      </div>
      
      <!-- Controles de navegaciÃ³n -->
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
      
      <!-- PaginaciÃ³n -->
      <div class="swiper-pagination"></div>
    </div>
    
    <!-- Checkbox para no mostrar mÃ¡s hoy -->
    <div class="checkbox-container">
      <input type="checkbox" id="noShowToday" name="noShowToday">
      <label for="noShowToday">No mostrar mÃ¡s por hoy</label>
    </div>
    
    <button class="btn btn-close" onclick="cerrarAnuncio()">Cerrar</button>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const modalTitle = document.querySelector('.modal-title');

  // FunciÃ³n para cambiar el tÃ­tulo con animaciÃ³n
  function cambiarTitulo(nuevoTexto) {
    modalTitle.classList.add('fade-out');
    setTimeout(() => {
      modalTitle.textContent = nuevoTexto;
      modalTitle.classList.remove('fade-out');
      modalTitle.classList.add('fade-in');
      setTimeout(() => modalTitle.classList.remove('fade-in'), 300);
    }, 300);
  }

  const swiper = new Swiper('.announcement-swiper', {
    loop: true,
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    on: {
      slideChange: function () {
        const index = swiper.realIndex;
        switch (index) {
          case 0:
            cambiarTitulo('ğŸ“º PrÃ³ximo Stream');
            break;
          case 1:
            cambiarTitulo('ğŸ”¥ Nuevo Video!!!');
            break;
          case 2:
            cambiarTitulo('ğŸ—“ï¸ Horarios');
            break;
          default:
            cambiarTitulo('Â¡Anuncios Importantes!');
        }
      }
    }
  });

  cambiarTitulo('ğŸ¤ PrÃ³ximo Stream'); // tÃ­tulo inicial
});
  </script>
  
