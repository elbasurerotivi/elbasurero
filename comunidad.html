<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>El Basurero - Comunidad</title>
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="Imagenes/icono.png" type="image/x-icon">
</head>
<body>
  <div id="header"></div>

  <main class="container">
    <section class="chat-wrap">
      <header class="chat-header">
        <h2>Comunidad — Muro</h2>
        <div class="user-controls">
          <input id="name" class="name-input" placeholder="Tu nombre" />
          <button id="save-name" class="btn small">Guardar</button>
        </div>
      </header>

      <div class="chat-content">
        <aside class="chat-sidebar">
          <h3>Participantes</h3>
          <div id="participants" class="participants-list">—</div>
        </aside>

        <section class="chat-main">
          <!-- messages container. NOTE: layout uses column-reverse so newest appear on top visually -->
          <div id="community-wall" class="messages" aria-live="polite"></div>

          <form id="message-form" class="message-form">
            <textarea id="message" placeholder="Escribí algo..." rows="2" required></textarea>
            <button type="submit" class="btn send">Enviar</button>
          </form>
        </section>
      </div>
    </section>
  </main>

  <script src="js/scripts.js"></script>
  <!-- Cargar el módulo principal del chat -->
  <script type="module" src="js/community.js"></script>

  <script>
    // cargar header si existe (no crítico)
    fetch("header.html")
      .then(r => r.text())
      .then(html => document.getElementById("header").innerHTML = html)
      .catch(()=>{ /* silent */ });
  </script>
</body>
</html>
