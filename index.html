<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Basurero</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" href="Imagenes/icono.png" type="image/x-icon">
    <!-- Swiper CSS (solo una versión) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <meta name="description" content="El Basurero, tu canal de reacciones en YouTube. Horarios, videos y comunidad.">
    <meta name="keywords" content="El Basurero, reacciones, YouTube, directos, Twitch, México, Argentina, stream, videos, comunidad, películas, series, opinión, videoreacción">
</head>
<body>
    <div id="header"></div>
    <main>
        <section class="hero">
            <h1>¡Bienvenidos a El Basurero!</h1>
            <p><br>Reaccionando a cultura popular,<br>
                  publicidad, comunidad y<br>
                  cosas que me gustan<br>
                  en general<br>
                  (y que no me gustan),<br>
                  pero con mi comentario.<br>
                  <br>
                  Los quiero!!!<br>
                  ¡Únete a la comunidad!</p>
            <a href="https://www.youtube.com/@elbasureroedgar" class="btn">YouTube</a>
        </section>

        <!-- Carrusel -->
        <div class="swiper mySwiper">
            <div class="swiper-wrapper">
                <!-- Slide 1 -->
                <div class="swiper-slide">
                    <a href="https://www.youtube.com/watch?v=suY9sPBv6Bo&t=162s" target="_blank">
                        <img src="Imagenes/fantasma de buenos aires.webp" alt="Fantasma de Buenos Aires">
                    </a>
                </div>
                <!-- Slide 2 -->
                <div class="swiper-slide">
                    <a href="https://www.youtube.com/watch?v=ecQU-umF7Ig&t=39s" target="_blank">
                        <img src="Imagenes/el clan.webp" alt="El Clan">
                    </a>
                </div>
                <!-- Slide 3 -->
                <div class="swiper-slide">
                    <a href="https://www.youtube.com/watch?v=gptQSG82q9E&t=91s" target="_blank">
                        <img src="Imagenes/100 veces no debo.webp" alt="100 veces no debo">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="https://www.youtube.com/watch?v=KTzz-HNNf48&t=5701s" target="_blank">
                        <img src="Imagenes/cronos.webp" alt="Cronos">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="https://www.youtube.com/watch?v=ELR89ybRWRs&t=6159s" target="_blank">
                        <img src="Imagenes/un oso rojo.webp" alt="Un oso rojo">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="https://www.youtube.com/watch?v=h05Wr9j2whE&t=2307s" target="_blank">
                        <img src="Imagenes/nicotina.webp" alt="Nicotina">
                    </a>
                </div>
            </div>
            <!-- Botones de navegación -->
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
            <!-- Paginación -->
            <div class="swiper-pagination"></div>
        </div>
    </main>
    <footer>
        <p>&copy; 2025 El Basurero. Todos los derechos reservados.</p>
        <h3>Sígueme en mis redes</h3>
        <div class="social-links">
            <a href="https://www.twitch.tv/elbasurerochido" target="_blank">
                <img src="Imagenes/twitch_logo.png" alt="Twitch"> Twitch
            </a>
            <a href="https://www.youtube.com/@elbasureroedgar" target="_blank">
                <img src="Imagenes/youtube_logo.png" alt="YouTube"> YouTube
            </a>
            <a href="https://discord.gg/TgAkT7PFt5" target="_blank">
                <img src="Imagenes/discord_logo.png" alt="Discord"> Discord
            </a>
            <a href="https://www.instagram.com/el_basurero_tiviplas" target="_blank">
                <img src="Imagenes/instagram_logo.png" alt="Instagram"> Instagram
            </a>
            <a href="https://www.facebook.com/el.basurero.ti.vi.plas" target="_blank">
                <img src="Imagenes/facebook_logo.png" alt="Facebook"> Facebook
            </a>
            <a href="https://www.patreon.com/cw/ElBasureroTi_Vi_Plas" target="_blank">
                <img src="Imagenes/patreon_logo.png" alt="Patreon"> Patreon
            </a>
            <a href="https://chat.whatsapp.com/Fyw5G6L8GLm71kMDATHm6P" target="_blank">
                <img src="Imagenes/WhatsApp.png" alt="WhatsApp"> WhatsApp
            </a>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="js/videos.js"></script> <!-- Carga videosData -->
    <script src="js/scripts.js"></script>
    <script type="module" src="js/login.js" defer></script>
    <script type="module" src="js/community.js" defer></script>
    <script>
        var swiper = new Swiper(".mySwiper", {
            loop: true,
            autoplay: {
                delay: 1500,
                disableOnInteraction: false,
            },
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
        });
    </script>
    <script>
  document.addEventListener("DOMContentLoaded", () => {
    if (typeof videosData === "undefined") {
      console.error("⚠️ No se encontró videosData. Asegúrate de cargar videos.js antes de este script.");
      return;
    }

    // Seleccionamos el contenedor del carrusel
    const swiperWrapper = document.querySelector(".mySwiper .swiper-wrapper");
    if (!swiperWrapper) {
      console.error("⚠️ No se encontró el contenedor .swiper-wrapper del carrusel.");
      return;
    }

    // Ordenar los videos por fecha descendente
    const latestVideos = [...videosData]
      .sort((a, b) => new Date(b.fecha) - new Date(a.fecha))
      .slice(0, 10); // solo los 10 más recientes

    // Limpiar carrusel existente (si había slides manuales)
    swiperWrapper.innerHTML = "";

    // Crear los slides dinámicamente
    latestVideos.forEach(video => {
      const slide = document.createElement("div");
      slide.classList.add("swiper-slide");
      slide.innerHTML = `
        <a href="${video.link}" target="_blank" rel="noopener noreferrer">
          <img src="${video.miniatura}" alt="${video.titulo}" loading="lazy">
        </a>
      `;
      swiperWrapper.appendChild(slide);
    });

    // Iniciar o actualizar el carrusel Swiper
    new Swiper(".mySwiper", {
      loop: true,
      autoplay: {
        delay: 1500,
        disableOnInteraction: false,
      },
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });

    console.log("🎬 Carrusel actualizado con los últimos 10 videos.");
  });
</script>
</body>
</html>